!function(t){t.errorLog=function(o){console.error(o)},t.app=t.angular.module("p",["ngMessages"]).run(["$rootScope","$timeout",function(n,e){n.config=t.config,n.timeWarning=5<Math.abs(t.config.timeAccuracy),n.ClientJSInfo=function(){return{devicePixelRatio:t.devicePixelRatio,screenPixelDepth:t.screen.pixelDepth,screenColorDepth:t.screen.colorDepth,screenWidth:t.screen.width,screenHeight:t.screen.height,userAgent:navigator.userAgent}},n.getTimeAccuracy=function(){var o,n;return"Intl"in t&&"RelativeTimeFormat"in Intl?(o=new Intl.RelativeTimeFormat(t.config.lang,{style:"short"}),(n=t.config.timeAccuracy)<=120?o.format(n,"seconds"):n<=3600?o.format(n,"minute"):n<=86400?o.format(n,"hour"):o.format(n,"day")):t.config.timeAccuracy},n.getCountryName=function(o){if("Intl"in t&&"DisplayNames"in Intl)try{const n=new Intl.DisplayNames([t.config.lang],{type:"region"});return n.of(o)}catch(o){}return o},n.failed=!1,n.reload=function(o){n.failed=!0,e(function(){t.location=t.location},o)},n.justReload=function(){t.location=t.location},n.getCountryFlag=function(o){if(o)try{return o.toUpperCase().replace(/./g,function(o){return String.fromCodePoint(o.charCodeAt(0)+127397)})}catch(o){}return""},n.mailTo=function(){var o=t.location.hostname;return["mailto:",t.config.supportInfo.email,"?subject=",encodeURIComponent("report protection "+n.config.challengeType+" on "+o),"&body=",encodeURIComponent(["node: "+t.config.ipData.nodeID,"ip: "+t.config.ipData.ip,"host: "+o,"country: "+t.config.ipData.country,"asn: "+t.config.ipData.asn,"asn name: "+t.config.ipData.asn_org].join("\r\n"))].join("")},n.urlSupport=function(){var o=t.location.hostname;return t.config.supportInfo.url+"?"+["mode=protection","node="+encodeURIComponent(t.config.ipData.nodeID),"type="+encodeURIComponent(n.config.challengeType),"host="+encodeURIComponent(o),"ip="+encodeURIComponent(t.config.ipData.ip),"country="+encodeURIComponent(t.config.ipData.country),"asn="+encodeURIComponent(t.config.ipData.asn),"asn_org="+encodeURIComponent(t.config.ipData.asn_org)].join("&")},e(function(){document.querySelector("#app").style.display="block"},200)}])}(window),function application(window){window.app.controller("js",["$scope","$rootScope","$timeout","$http",function JSChallenge($scope,$rootScope,$timeout,$http){var waitSeconds=parseInt($rootScope.config.waitSeconds,10),start=Math.round(Date.now()/1e3),end=start+waitSeconds+2,total=end-start;$scope.progress=0,$scope.jsValue="",$scope.jsValueSolve=function jsValueSolve(){$http({url:window.config.baseURL+"/challenge",method:"PATCH",data:{t:window.config.challengeToken}}).then(function onResponse(response){var data=response.data,value=(window.config.challengeToken=data.t,eval(window.atob(data.js)),window.jsv());delete window.jsv,window.jsv=void 0,$scope.jsValue=value,$scope.solve()}).catch(function(){window.location.reload()})},$scope.solve=function(){$http({url:window.config.baseURL+"/challenge",method:"POST",data:{t:window.config.challengeToken,j_v:$scope.jsValue}}).then(function(){window.location.href=$rootScope.config.protectedPath}).catch(function(){$rootScope.reload()})},$scope.progressUpdate=function(){$timeout(function(){var o=Math.round(Date.now()/1e3)-start,o=Math.round(o/total*100);o<100?($scope.progress=Math.floor(o),$scope.progressUpdate()):($scope.progress=100,$scope.jsValueSolve())},500)},$scope.progressUpdate()}])}(window);